<!DOCTYPE html>
<html>
<head>
<title>Notify all users in phpBB 3.x per SQL</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="global.css" type="text/css" />
<script type="text/javascript">
function createSql()
{
	var prefix = document.getElementById('prefix').value;
	var users = document.getElementById('users').value;
	var forums = document.getElementById('forums').value;
	if (prefix == '' || users == '' || users == 0 || forums == '' || forums == 0)
	{
		document.getElementById('sql').value = '';
		return;
	}
	users += 48;
	
	var sql = '';
	for (i = 1; i <= forums; i++)
	{
		for (j = 48; j < users; j++)
		{
			sql += 'INSERT INTO ' + prefix + 'forums_watch (user_id, forum_id, notify_status) VALUES (' + j + ', ' + i + ', 0);\n';
		}
	}
	document.getElementById('sql').value = sql;
}
</script>
</head>
<body>
<div style="width: 700px; margin: 20px;">
	<fieldset style="border: 1px solid #8da4b7; margin-top: 20px;">
		<legend style="color: #164369; margin: 0 10px; padding: 0 5px;"><b>Notify all users in phpBB 3.x per SQL</b></legend>
		<div style="padding: 10px;">
			<div>
				<div class="label">Prefix</div>
				<div><input type="text" id="prefix" onKeyUp="createSql()" value="phpbb_" /></div>
				<div class="label">Users</div>
				<div><input type="number" id="users" onKeyUp="createSql()" /></div>
				<div class="label">Forums</div>
				<div><input type="number" id="forums" onKeyUp="createSql()" /></div>
				<div class="label">SQL</div>
				<div><textarea id="sql" name="sql" cols="80" rows="20" onClick="this.select(); this.focus();"></textarea></div>
			</div>
		</div>
	</fieldset>
	<div class="sig"><a href="https://github.com/Elsensee/phpbbde-createnotifysql">Source</a>&nbsp;â€“&nbsp;<a href="https://github.com/Elsensee/phpbbde-createnotifysql/archive/gh-pages.zip">Download</a></div>
</div>
</body>
</html>
