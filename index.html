<!DOCTYPE html>
<html>
<head>
	<title>Notify all users in phpBB 3.1 with SQL</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<link rel="stylesheet" href="global.css" type="text/css" />
	<script type="text/javascript">
function createSql() {
	var prefix = document.getElementById('prefix').value;
	var users = document.getElementById('users').value;
	var forums = document.getElementById('forums').value;
	if (prefix == '' || users == '' || forums == '')
	{
		document.getElementById('sql').value = '';
		return;
	}
	
	var sql = '';
	for (i=1; i<=forums; i++) {
		for (j=0; j<users; j++){
			var user = j+48;
			var forum = i;
			sql += 'INSERT INTO ' + prefix + 'forums_watch (user_id, forum_id, notify_status) VALUES (' + user + ', ' + forum + ', 0);\n';
		}
	}
	document.getElementById('sql').value = '';
}
	</script>
</head>
<body>
<div style="width:1060px;margin:0px auto;">
	<fieldset style="border: 1px solid #8da4b7;margin-top: 20px;padding: 0px;">
		<legend style="color: #164369;margin: 0 10px;padding: 0 4px;"><b>Notify all users in phpBB 3.1 with SQL</b></legend>
		<div style="padding: 10px;">
			<div class="main">
				<div style="float:left;padding-top: 4px;width:65px;">Prefix</div>
				<div><input type="text" value="phpbb_" width="50" id="prefix" onKeyUp="createSql()" /></div>
				<div style="float:left;padding-top: 4px;width:65px;">Users</div>
				<div><input type="number" id="users" width="50" onKeyUp="createSql()" /></div>
				<div style="float:left;padding-top: 4px;width:65px;">Forums</div>
				<div><input type="number" width="50" id="forums" onKeyUp="createSql()" /></div>
				<div style="float:left;padding-top: 4px;width:65px;">Link</div>
				<div><textarea id="sql" name="sql" cols="35" rows="30" onClick="this.select(); this.focus();" /></div>
			</div>
		</div>
	</fieldset>
</div>
</body>
</html>
